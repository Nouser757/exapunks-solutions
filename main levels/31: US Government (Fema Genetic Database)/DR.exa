LINK 800
LINK 801
GRAB 200
COPY M X
MARK SEEKPRES
TEST F = X
FJMP SEEKPRES
MARK PRESLOOP
COPY F M
TEST EOF
TJMP NEXT
TEST F > 0
FJMP NEXT
SEEK -1
JUMP PRESLOOP

MARK NEXT
COPY -1 M
COPY M X
SEEK -9999
MARK SEEKSEN
TEST F = X
FJMP SEEKSEN
MARK SENLOOP
COPY F M
TEST EOF
TJMP END
TEST F > 0
FJMP END
SEEK -1
JUMP SENLOOP

MARK END
COPY -1 M